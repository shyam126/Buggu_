
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>rose day </title>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1:#450a2a;      /* deep rose */
    --bg2:#6b1232;      /* plum-rose */
    --panel-grad1:#7a1a4333;
    --panel-grad2:#5e143730;
    --note-grad1:#7b204833;
    --note-grad2:#4c0d262b;
    --text:#fff7fb;
    --soft:#ffd6e0;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:Poppins,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
    color:var(--text);
    background:
      radial-gradient(1200px 700px at 15% 0%, #7d1a3f33 0%, transparent 60%),
      radial-gradient(800px 600px at 90% 80%, #77163b33 0%, transparent 60%),
      linear-gradient(135deg, var(--bg1), var(--bg2));
    display:grid; place-items:center;
    padding:22px;
    overflow-x:hidden;
  }

  /* Main rounded card */
  .hero-card{
    width:min(1100px, 98vw);
    background: linear-gradient(180deg, var(--panel-grad1), var(--panel-grad2));
    border-radius:28px;
    border:1px solid #ffffff1c;
    box-shadow: 0 30px 80px rgba(0,0,0,.35);
    padding:28px;
    position:relative;
    overflow:hidden;
  }
  .hero-inner{
    display:grid;
    grid-template-columns: 1.25fr 1fr;
    gap:30px;
    align-items:center;
  }

  /* Left: text area */
  .title{
    font-family:"Playfair Display", serif;
    font-weight:700;
    font-size: clamp(34px, 5vw, 48px);
    line-height:1.1;
    margin:6px 0 8px;
    text-shadow:0 6px 24px #0006;
  }
  .subtitle{
    color:#fbe7ef;
    opacity:.95;
    font-size: clamp(14px, 2.3vw, 18px);
    margin:0 0 18px;
  }

  .note{
    background: linear-gradient(180deg, var(--note-grad1), var(--note-grad2));
    border:1px solid #ffffff26;
    color:#ffe6ee;
    border-radius:16px;
    padding:18px 18px;
    box-shadow:
      0 15px 35px rgba(0,0,0,.35),
      inset 0 0 0 1px #ffffff1a;
    max-width:520px;
  }
  .note .to{
    color:#ffb3c6;
    font-weight:600;
    margin:0 0 6px;
  }
  .note p{
    margin:0;
    line-height:1.7;
  }

  .cta{
    display:flex; gap:12px; flex-wrap:wrap; margin-top:18px;
  }
  .btn{
    appearance:none; border:none; cursor:pointer;
    padding:12px 18px; border-radius:999px; font-weight:600; letter-spacing:.2px;
    background: linear-gradient(180deg,#ffd1dc,#ff9bb3);
    color:#4b0620;
    box-shadow: 0 8px 20px rgba(255,109,155,.35), inset 0 0 0 1px #ffffffaa;
    transition: transform .15s ease, filter .2s ease;
  }
  .btn:hover{ transform:translateY(-2px); filter:saturate(108%); }
  .btn-ghost{
    background: transparent;
    color:#ffd6e0;
    border:1px solid #ffffff33;
    box-shadow:none;
  }
  .btn-ghost:hover{ background:#ffffff14; }

  /* Right: circular stage */
  .stage{
    position:relative;
    aspect-ratio:1/1;
    width:min(420px, 76vw);
    margin-inline:auto;
    display:grid; place-items:center;
    filter: drop-shadow(0 24px 48px rgba(0,0,0,.35));
  }
  .disc{
    position:absolute; inset:0;
    background: radial-gradient(circle at 30% 30%, #ff87ad22 0%, #0000 35%),
                radial-gradient(circle at 60% 70%, #ff7aa322 0%, #0000 45%),
                linear-gradient(180deg, #78203f, #581632);
    border-radius:50%;
    box-shadow:
      inset 0 0 0 1px #ffffff22,
      0 18px 38px rgba(0,0,0,.45);
    z-index:0;
    pointer-events:none;
  }
  .ring{
    position:absolute;
    inset:10% 10%;
    border-radius:50%;
    background: radial-gradient(circle at 50% 38%, #ffffff12 0%, #0000 65%);
    box-shadow:
      inset 0 0 0 10px #ffffff10,
      inset 0 0 22px #00000055,
      0 10px 20px #00000055;
    z-index:1; /* below photo */
    pointer-events:none;
  }
  .photo{
    position:relative;
    width:52%;
    aspect-ratio:1/1;
    border-radius:50%;
    overflow:hidden;
    box-shadow: 0 8px 24px rgba(0,0,0,.5),
                0 0 0 6px #ffffff14,
                inset 0 0 0 2px #ffffff26;
    z-index:2; /* above ring */
    background:#4b0620; /* fallback color if image not loaded */
    transition: filter .25s ease, transform .25s ease, opacity .25s ease;
  }
  .photo img{
    width:100%; height:100%; object-fit:cover; display:block;
    transition:opacity .25s ease; opacity:1;
  }

  /* Bouquet overlay (appears on Surprise) */
  .bouquet{
    position:absolute;
    z-index:3;            /* above photo and ring */
    width:68%;
    aspect-ratio:3/4;     /* typical bouquet portrait */
    border-radius:18px;
    overflow:hidden;
    box-shadow: 0 18px 50px rgba(0,0,0,.55), 0 0 0 8px #ffffff1a;
    opacity:0;
    transform:scale(.9);
    transition: opacity .45s ease, transform .55s cubic-bezier(.2,.8,.2,1);
    pointer-events:none;  /* overlay is decorative */
  }
  .bouquet img{ width:100%; height:100%; object-fit:cover; display:block; }
  .bouquet.show{ opacity:1; transform:scale(1); }

  /* Bouquet caption (below bouquet) */
  .bouquet-caption{
    position:absolute;
    z-index:3;
    top: calc(50% + 23%);
    left: 50%;
    transform: translate(-50%, 0);
    padding:8px 14px;
    border-radius:999px;
    font-family:"Playfair Display", serif;
    font-size: clamp(16px, 2.6vw, 22px);
    color:#4b0620;
    background: linear-gradient(180deg,#ffd1dc,#ff9bb3);
    box-shadow: 0 10px 24px rgba(0,0,0,.35), inset 0 0 0 1px #ffffffaa;
    opacity:0;
    transition: opacity .45s ease, transform .45s ease;
    pointer-events:none;
    white-space: nowrap;
  }
  .bouquet-caption.show{
    opacity:1;
    transform: translate(-50%, 0) scale(1.02);
  }

  /* Orbiting hearts */
  .orbit{ position:absolute; inset:7% 7%; border-radius:50%; animation: spin 18s linear infinite; z-index:1; }
  @keyframes spin{ to{ transform: rotate(360deg); } }
  .mini-heart{
    position:absolute; width:22px; height:22px;
    left:50%; top:-6px; transform-origin: -50% calc(50% + 150px);
    background:linear-gradient(135deg, #ff6f9c, #ff9fbd);
    transform: translate(-50%,0) rotate(var(--a,0deg));
    border-radius:4px; rotate:45deg;
    filter: drop-shadow(0 8px 12px rgba(255,120,157,.4));
  }
  .mini-heart:before,.mini-heart:after{
    content:""; position:absolute; width:22px; height:22px; background:inherit; border-radius:50%;
  }
  .mini-heart:before{ left:-11px; top:0; }
  .mini-heart:after{ left:0; top:-11px; }

  .foot{
    margin-top:14px; font-size:12px; color:#ffd6e0a0;
  }

  /* Floating music button */
  .music-btn{
    position: fixed; right: 18px; bottom: 18px; z-index: 30;
    appearance:none; border:1px solid #ffffff2e; background:#ffffff12;
    color:#ffd6e0; border-radius:999px; padding:10px 14px; font-weight:600;
    backdrop-filter: blur(8px);
    box-shadow: 0 10px 26px rgba(0,0,0,.45), inset 0 0 0 1px #ffffff12;
    cursor:pointer; transition:.15s transform ease, .2s background ease;
  }
  .music-btn:hover{ transform:translateY(-2px); background:#ffffff1c; }
  .music-btn.playing{ background:linear-gradient(180deg,#ffd1dc,#ff9bb3); color:#4b0620; border-color:transparent; }

  /* Responsive */
  @media (max-width:860px){
    .hero-inner{ grid-template-columns: 1fr; gap:22px; }
    .stage{ width:min(440px, 86vw); }
    .note{ max-width:unset; }
  }
</style>
</head>
<body>

<div class="hero-card">
  <div class="hero-inner">
    <!-- LEFT: Text -->
    <section>
      <h1 class="title">Happy Rose Day Buggi ðŸ’• </h1>
      <p class="subtitle">A little bloom for the one who makes my world blossom.</p>

      <div class="note" aria-label="Dedication">
        <h3 class="to"></h3>
        <p>
          I know things havenâ€™t been the same since our fight ðŸ˜” <br>
          And honestlyâ€¦ it didnâ€™t feel right to me either<br><br>

          Main perfect nahi hoonâ€¦<br>
          par tumhe lose karne ka thought bhi perfect nahi lagta ðŸ’ž <br>
          Isliye aaj Rose Day par bas dil se sorry keh raha hoon.<br>
          Na sirf words ke liyeâ€¦ balki us hurt ke liye jo tumhe feel hua.<br>
          Tum abhi bhi meri favourite ho, aur hamesha rahogi...<br>
        </p>
      </div>

      <div class="cta">
        <button class="btn btn-ghost" id="surprise">For you</button>
      </div>

      <p class="foot"><span id="yr"></span></p>
    </section>

    <!-- RIGHT: Ring + Photo + Hearts + Bouquet -->
    <section class="stage" aria-label="Photo circle with hearts">
      <div class="disc" aria-hidden="true"></div>
      <div class="ring" aria-hidden="true"></div>

      <!-- Center photo (carousel target) -->
      <div class="photo" aria-live="polite">
        <img id="currentPhoto" src="" alt="Our moment" />
      </div>

      <!-- Bouquet overlay (appears on Surprise) -->
      <div class="bouquet" id="bouquet">
        <img id="bouquetImg" src="" alt="Rose bouquet for Ayushi">
      </div>

      <!-- Caption under bouquet -->
      <div class="bouquet-caption" id="bouquetCaption" aria-live="polite">For you</div>

      <!-- Orbiting mini hearts -->
      <div class="orbit" aria-hidden="true">
        <div class="mini-heart" style="--a:0deg"></div>
        <div class="mini-heart" style="--a:60deg"></div>
        <div class="mini-heart" style="--a:120deg"></div>
        <div class="mini-heart" style="--a:180deg"></div>
        <div class="mini-heart" style="--a:240deg"></div>
        <div class="mini-heart" style="--a:300deg"></div>
      </div>
    </section>
  </div>
</div>

<!-- Background music players -->
<audio id="bgmLanding" src="images/Guzarish.mp3" preload="auto" loop></audio>
<audio id="bgmSurprise" src="images/Khwabnew.mp3" preload="auto"></audio>

<button id="musicToggle" class="music-btn" aria-pressed="false" aria-label="Toggle background music">â™ª Music Off</button>

<script>
  // Year (optional)
  // document.getElementById('yr').textContent = new Date().getFullYear();

  /* -------------------- PHOTO CAROUSEL -------------------- */
  const PHOTOS = [
    "images/Image1.jpeg",
    "images/Image2.jpeg",
    "images/Image3.jpeg",
    "images/Image4.jpeg",
    "images/Image5.jpeg",
  ].filter(Boolean);

  const currentImg = document.getElementById('currentPhoto');
  let photoIdx = 0;
  let rotateTimer = null;

  function setPhoto(i){
    if (!PHOTOS.length) return;
    const src = PHOTOS[i % PHOTOS.length];
    currentImg.style.opacity = 0;
    setTimeout(()=>{
      currentImg.src = src;
      currentImg.alt = "Our photo " + ((i % PHOTOS.length) + 1);
      if (currentImg.complete) {
        currentImg.style.opacity = 1;
      } else {
        currentImg.onload = () => currentImg.style.opacity = 1;
        currentImg.onerror = () => {
          console.warn("Could not load:", src);
          currentImg.style.opacity = 1;
        };
      }
    }, 120);
  }

  function startCarousel(){
    if (rotateTimer || PHOTOS.length <= 1) return;
    rotateTimer = setInterval(()=>{
      photoIdx = (photoIdx + 1) % PHOTOS.length;
      setPhoto(photoIdx);
    }, 3500);
  }
  function stopCarousel(){
    if (rotateTimer){ clearInterval(rotateTimer); rotateTimer = null; }
  }

  if (PHOTOS.length){
    setPhoto(photoIdx);
    startCarousel();
  }

  /* -------------------- MUSIC: Landing vs Surprise -------------------- */
  const landing = document.getElementById('bgmLanding');    // soft loop when page loads
  const surpriseTrack = document.getElementById('bgmSurprise'); // plays on Surprise
  const musicToggle = document.getElementById('musicToggle');

  // Tuning
  landing.volume = 0.35;         // softer for landing
  surpriseTrack.volume = 0.65;   // a bit louder for the moment

  // State: which one is active?
  let active = 'landing'; // 'landing' | 'surprise'
  let isPlaying = false;

  function updateMusicBtn(){
    musicToggle.classList.toggle('playing', isPlaying);
    musicToggle.setAttribute('aria-pressed', String(isPlaying));
    musicToggle.textContent = isPlaying ? 'â™ª Music On' : 'â™ª Music Off';
  }
  updateMusicBtn();

  async function playLanding(){
    try{
      await landing.play();
      surpriseTrack.pause();
      active = 'landing';
      isPlaying = true;
      updateMusicBtn();
    }catch(e){
      // wait for user gesture
    }
  }

  async function playSurprise(){
    try{
      landing.pause();
      landing.currentTime = 0;
      await surpriseTrack.play();
      active = 'surprise';
      isPlaying = true;
      updateMusicBtn();
    }catch(e){
      // if blocked, user can tap the music button
      console.warn("Audio play was blocked; tap Music to start.");
    }
  }

  function pauseActive(){
    if(active === 'landing'){ landing.pause(); }
    else{ surpriseTrack.pause(); }
    isPlaying = false; updateMusicBtn();
  }

  // Start landing music after first interaction (autoplay policy)
  const startOnce = () => { playLanding(); cleanupAuto(); };
  function cleanupAuto(){
    window.removeEventListener('click', startOnce);
    window.removeEventListener('keydown', startOnce);
    window.removeEventListener('touchstart', startOnce);
  }
  window.addEventListener('click', startOnce);
  window.addEventListener('keydown', startOnce);
  window.addEventListener('touchstart', startOnce);

  // Toggle button controls whichever is active
  musicToggle.addEventListener('click', async ()=>{
    if(isPlaying){ pauseActive(); }
    else{
      if(active === 'landing'){ await playLanding(); }
      else{ await playSurprise(); }
    }
  });

  /* -------------------- BOUQUET + CAPTION + SWITCH MUSIC -------------------- */
  const BOUQUET_SRC = "images/rose.jpeg";   // your bouquet image
  const bouquetWrap = document.getElementById('bouquet');
  const bouquetImg  = document.getElementById('bouquetImg');
  const caption     = document.getElementById('bouquetCaption');

  document.getElementById('surprise').addEventListener('click', async ()=>{
    // Load bouquet image with .jpeg -> .jpg fallback
    function trySetBouquet(srcPrimary, srcFallback){
      return new Promise((resolve)=>{
        bouquetImg.onload = ()=> resolve(true);
        bouquetImg.onerror = ()=>{
          if (srcFallback && bouquetImg.src !== srcFallback){
            bouquetImg.src = srcFallback;
          }else{
            resolve(false);
          }
        };
        bouquetImg.src = srcPrimary;
      });
    }

    const ok = await trySetBouquet(BOUQUET_SRC, BOUQUET_SRC.replace(/\.jpeg$/i, ".jpg"));
    if (!ok){
      bouquetWrap.style.background =
        'radial-gradient(circle at 40% 40%, #ff97b8 0%, #ff6f9c 45%, #6b1232 100%)';
    }

    // Pause photo carousel & dim photo for drama
    stopCarousel();
    document.querySelector('.photo').style.filter = 'blur(2px) brightness(.8)';
    document.querySelector('.photo').style.transform = 'scale(.98)';

    // Reveal bouquet & caption
    bouquetWrap.classList.add('show');
    caption.classList.add('show');

    // Switch music to surprise track
    await playSurprise();
  });
</script>
</body>
</html>
